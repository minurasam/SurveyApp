'use strict';

module.exports = function isAtlas(topologyDescription) {
  if (topologyDescription == null || topologyDescription.constructor.name !== 'TopologyDescription') {
    return false;
  }

  var hostnames = Array.from(topologyDescription.servers.keys());
  return hostnames.length > 0 && hostnames.every(function (host) {
    return host.endsWith('.mongodb.net:27017');
  });
};