"use strict"; // file for microbenchmarking

Object.defineProperty(exports, "__esModule", {
  value: true
});

var buffer_writer_1 = require("./buffer-writer");

var buffer_reader_1 = require("./buffer-reader");

var LOOPS = 1000;
var count = 0;
var start = Date.now();
var writer = new buffer_writer_1.Writer();
var reader = new buffer_reader_1.BufferReader();
var buffer = Buffer.from([33, 33, 33, 33, 33, 33, 33, 0]);

var run = function run() {
  if (count > LOOPS) {
    console.log(Date.now() - start);
    return;
  }

  count++;

  for (var i = 0; i < LOOPS; i++) {
    reader.setBuffer(0, buffer);
    reader.cstring();
  }

  setImmediate(run);
};

run();