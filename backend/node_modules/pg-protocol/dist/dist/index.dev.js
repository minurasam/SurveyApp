"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DatabaseError = exports.serialize = exports.parse = void 0;

var messages_1 = require("./messages");

Object.defineProperty(exports, "DatabaseError", {
  enumerable: true,
  get: function get() {
    return messages_1.DatabaseError;
  }
});

var serializer_1 = require("./serializer");

Object.defineProperty(exports, "serialize", {
  enumerable: true,
  get: function get() {
    return serializer_1.serialize;
  }
});

var parser_1 = require("./parser");

function parse(stream, callback) {
  var parser = new parser_1.Parser();
  stream.on('data', function (buffer) {
    return parser.parse(buffer, callback);
  });
  return new Promise(function (resolve) {
    return stream.on('end', function () {
      return resolve();
    });
  });
}

exports.parse = parse;