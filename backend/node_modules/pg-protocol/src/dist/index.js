"use strict";
exports.__esModule = true;
exports.DatabaseError = exports.serialize = exports.parse = void 0;
var messages_1 = require("./messages");
exports.DatabaseError = messages_1.DatabaseError;
var serializer_1 = require("./serializer");
exports.serialize = serializer_1.serialize;
var parser_1 = require("./parser");
function parse(stream, callback) {
    var parser = new parser_1.Parser();
    stream.on('data', function (buffer) { return parser.parse(buffer, callback); });
    return new Promise(function (resolve) { return stream.on('end', function () { return resolve(); }); });
}
exports.parse = parse;
